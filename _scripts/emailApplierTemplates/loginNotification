import * as moment from "moment-timezone";

import { NonEmptyString } from "@pagopa/ts-commons/lib/strings";
import { DateFromTimestamp } from "@pagopa/ts-commons/lib/dates";

const TIME_ZONE = "Europe/Rome";
const DATE_TIME_FORMAT = "DD/MM/YYYY, HH:mm";

const formatDate = (d: Date): string =>
  moment(d)
    .tz(TIME_ZONE)
    .format(DATE_TIME_FORMAT);

export const apply = (
  name: NonEmptyString,
  identity_provider: NonEmptyString,
  date_time: DateFromTimestamp,
  ip_address: NonEmptyString
): string => {
  const dateTime = formatDate(date_time);
  return `{{TEMPLATE}}`;
};
